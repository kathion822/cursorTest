<view class="work-report-container"><view class="page-header"><text class="page-title">主页</text><view class="header-actions"><text class="action-icon">⋯</text><text class="action-icon">◎</text></view></view><view class="tab-container"><view class="{{['tab-item', a && 'active']}}" bindtap="{{b}}"><text class="tab-text">新建报告</text></view><view class="{{['tab-item', c && 'active']}}" bindtap="{{d}}"><text class="tab-text">历史报告</text></view></view><view wx:if="{{e}}" class="form-container"><view class="form-group"><text class="form-label">报告标题</text><input class="form-input" placeholder="{{f}}" maxlength="50" value="{{g}}" bindinput="{{h}}"/></view><view class="form-group"><text class="form-label">报告日期</text><view class="form-input date-display" bindtap="{{k}}"><text wx:if="{{i}}" class="date-text">{{j}}</text><text wx:else class="date-placeholder">请选择日期</text></view><text class="form-tip">只能选择当天及之前的日期</text><text class="debug-info">当前日期值: {{l}}</text></view><view class="form-group"><text class="form-label">工作内容</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="{{m}}" maxlength="1000" value="{{n}}" bindinput="{{o}}"/></block></view><view class="form-group"><text class="form-label">工作计划</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="{{p}}" maxlength="300" value="{{q}}" bindinput="{{r}}"/></block></view><view class="form-group"><text class="form-label">遇到的问题</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="{{s}}" maxlength="300" value="{{t}}" bindinput="{{v}}"/></block></view><button class="submit-btn" bindtap="{{w}}">提交报告</button></view><view wx:if="{{x}}" class="history-container"><view class="filter-section"><view class="search-container"><input class="search-input" placeholder="{{y}}" bindinput="{{z}}" value="{{A}}"/><text class="search-icon">🔍</text></view><view class="filter-row"><view class="filter-item" bindtap="{{C}}"><text class="filter-text">{{B}}</text><text class="filter-arrow">▼</text></view><view class="filter-item" bindtap="{{E}}"><text class="filter-text">{{D}}</text><text class="filter-icon">📅</text></view><view wx:if="{{F}}" class="filter-reset" bindtap="{{G}}"><text class="reset-text">重置</text></view></view></view><view class="stats-card"><view class="stats-item"><text class="stats-number">{{H}}</text><text class="stats-label">总报告</text></view><view class="stats-item"><text class="stats-number">{{I}}</text><text class="stats-label">已批阅</text></view><view class="stats-item"><text class="stats-number">{{J}}</text><text class="stats-label">待批阅</text></view></view><view wx:if="{{K}}" class="report-list"><view wx:for="{{L}}" wx:for-item="report" wx:key="j" class="report-item" bindtap="{{report.k}}"><view class="report-header"><text class="report-title">{{report.a}}</text><view class="{{['report-status', report.c]}}"><text>{{report.b}}</text></view></view><view class="report-info"><text class="report-date">{{report.d}}</text><text class="report-author">{{report.e}}</text></view><view class="report-summary"><text class="summary-text">{{report.f}}...</text></view><view class="report-tags"><text wx:if="{{report.g}}" class="tag">有计划</text><text wx:if="{{report.h}}" class="tag">有问题</text><text wx:if="{{report.i}}" class="tag">有批语</text></view><view class="report-action"><text class="action-text">查看详情 &gt;</text></view></view></view><view wx:else class="empty-state"><text class="empty-text">暂无工作报告</text><text class="empty-tip">点击"新建报告"开始创建</text></view></view><view wx:if="{{M}}" class="date-picker-modal"><view class="picker-overlay" bindtap="{{N}}"></view><view class="picker-container"><view class="picker-header"><text class="picker-title">选择日期</text><text class="picker-close" bindtap="{{O}}">×</text></view><view class="picker-content"><view class="picker-section"><text class="picker-label">年份</text><picker value="{{Q}}" range="{{R}}" bindchange="{{S}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{P}}年</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">月份</text><picker value="{{U}}" range="{{V}}" bindchange="{{W}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{T}}月</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">日期</text><picker value="{{Y}}" range="{{Z}}" bindchange="{{aa}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{X}}日</text><text class="picker-arrow">▼</text></view></picker></view></view><view class="picker-actions"><button class="picker-btn cancel-btn" bindtap="{{ab}}">取消</button><button class="picker-btn confirm-btn" bindtap="{{ac}}">确定</button></view></view></view><view wx:if="{{ad}}" class="date-picker-modal"><view class="picker-overlay" bindtap="{{ae}}"></view><view class="picker-container"><view class="picker-header"><text class="picker-title">选择筛选日期</text><text class="picker-close" bindtap="{{af}}">×</text></view><view class="picker-content"><view class="picker-section"><text class="picker-label">年份</text><picker value="{{ah}}" range="{{ai}}" bindchange="{{aj}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{ag}}年</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">月份</text><picker value="{{al}}" range="{{am}}" bindchange="{{an}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{ak}}月</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">日期</text><picker value="{{ap}}" range="{{aq}}" bindchange="{{ar}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{ao}}日</text><text class="picker-arrow">▼</text></view></picker></view></view><view class="picker-actions"><button class="picker-btn cancel-btn" bindtap="{{as}}">取消</button><button class="picker-btn confirm-btn" bindtap="{{at}}">确定</button></view></view></view></view>