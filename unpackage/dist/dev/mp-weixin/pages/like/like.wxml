<view class="work-report-container"><view class="page-header"><text class="page-title">主页</text><view class="header-actions"><text class="action-icon">⋯</text><text class="action-icon">◎</text></view></view><view class="tab-container"><view class="{{['tab-item', a && 'active']}}" bindtap="{{b}}"><text class="tab-text">新建报告</text></view><view class="{{['tab-item', c && 'active']}}" bindtap="{{d}}"><text class="tab-text">历史报告</text></view></view><view wx:if="{{e}}" class="form-container"><view class="form-group"><text class="form-label">报告标题</text><input class="form-input" placeholder="{{f}}" maxlength="50" value="{{g}}" bindinput="{{h}}"/></view><view class="form-group"><text class="form-label">报告日期</text><input class="form-input" value="{{i}}" placeholder="请选择日期" readonly bindtap="{{j}}"/><text class="form-tip">只能选择当天及之前的日期</text><text class="debug-info">当前日期值: {{k}}</text></view><view class="form-group"><text class="form-label">工作内容</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="{{l}}" maxlength="1000" value="{{m}}" bindinput="{{n}}"/></block></view><view class="form-group"><text class="form-label">工作计划</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="{{o}}" maxlength="300" value="{{p}}" bindinput="{{q}}"/></block></view><view class="form-group"><text class="form-label">遇到的问题</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="{{r}}" maxlength="300" value="{{s}}" bindinput="{{t}}"/></block></view><button class="submit-btn" bindtap="{{v}}">提交报告</button></view><view wx:if="{{w}}" class="history-container"><view class="filter-section"><view class="search-container"><input class="search-input" placeholder="{{x}}" bindinput="{{y}}" value="{{z}}"/><text class="search-icon">🔍</text></view><view class="filter-row"><view class="filter-item" bindtap="{{B}}"><text class="filter-text">{{A}}</text><text class="filter-arrow">▼</text></view><view class="filter-item" bindtap="{{D}}"><text class="filter-text">{{C}}</text><text class="filter-icon">📅</text></view><view wx:if="{{E}}" class="filter-reset" bindtap="{{F}}"><text class="reset-text">重置</text></view></view></view><view class="stats-card"><view class="stats-item"><text class="stats-number">{{G}}</text><text class="stats-label">总报告</text></view><view class="stats-item"><text class="stats-number">{{H}}</text><text class="stats-label">已批阅</text></view><view class="stats-item"><text class="stats-number">{{I}}</text><text class="stats-label">待批阅</text></view></view><view wx:if="{{J}}" class="report-list"><view wx:for="{{K}}" wx:for-item="report" wx:key="j" class="report-item" bindtap="{{report.k}}"><view class="report-header"><text class="report-title">{{report.a}}</text><view class="{{['report-status', report.c]}}"><text>{{report.b}}</text></view></view><view class="report-info"><text class="report-date">{{report.d}}</text><text class="report-author">{{report.e}}</text></view><view class="report-summary"><text class="summary-text">{{report.f}}...</text></view><view class="report-tags"><text wx:if="{{report.g}}" class="tag">有计划</text><text wx:if="{{report.h}}" class="tag">有问题</text><text wx:if="{{report.i}}" class="tag">有批语</text></view><view class="report-action"><text class="action-text">查看详情 &gt;</text></view></view></view><view wx:else class="empty-state"><text class="empty-text">暂无工作报告</text><text class="empty-tip">点击"新建报告"开始创建</text></view></view><view wx:if="{{L}}" class="date-picker-modal"><view class="picker-overlay" bindtap="{{M}}"></view><view class="picker-container"><view class="picker-header"><text class="picker-title">选择日期</text><text class="picker-close" bindtap="{{N}}">×</text></view><view class="picker-content"><view class="picker-section"><text class="picker-label">年份</text><picker value="{{P}}" range="{{Q}}" bindchange="{{R}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{O}}年</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">月份</text><picker value="{{T}}" range="{{U}}" bindchange="{{V}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{S}}月</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">日期</text><picker value="{{X}}" range="{{Y}}" bindchange="{{Z}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{W}}日</text><text class="picker-arrow">▼</text></view></picker></view></view><view class="picker-actions"><button class="picker-btn cancel-btn" bindtap="{{aa}}">取消</button><button class="picker-btn confirm-btn" bindtap="{{ab}}">确定</button></view></view></view><view wx:if="{{ac}}" class="date-picker-modal"><view class="picker-overlay" bindtap="{{ad}}"></view><view class="picker-container"><view class="picker-header"><text class="picker-title">选择筛选日期</text><text class="picker-close" bindtap="{{ae}}">×</text></view><view class="picker-content"><view class="picker-section"><text class="picker-label">年份</text><picker value="{{ag}}" range="{{ah}}" bindchange="{{ai}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{af}}年</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">月份</text><picker value="{{ak}}" range="{{al}}" bindchange="{{am}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{aj}}月</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">日期</text><picker value="{{ao}}" range="{{ap}}" bindchange="{{aq}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{an}}日</text><text class="picker-arrow">▼</text></view></picker></view></view><view class="picker-actions"><button class="picker-btn cancel-btn" bindtap="{{ar}}">取消</button><button class="picker-btn confirm-btn" bindtap="{{as}}">确定</button></view></view></view></view>