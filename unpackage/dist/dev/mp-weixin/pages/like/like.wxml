<view class="work-report-container"><view class="page-header"><text class="page-title">主页</text><view class="header-actions"><text class="action-icon">⋯</text><text class="action-icon">◎</text></view></view><view class="tab-container"><view class="{{['tab-item', a && 'active']}}" bindtap="{{b}}"><text class="tab-text">新建报告</text></view><view class="{{['tab-item', c && 'active']}}" bindtap="{{d}}"><text class="tab-text">历史报告</text></view></view><view wx:if="{{e}}" class="form-container"><view class="form-group"><text class="form-label">报告标题</text><input class="form-input" placeholder="请输入报告标题" maxlength="50" value="{{f}}" bindinput="{{g}}"/></view><view class="form-group"><text class="form-label">报告日期</text><view class="form-input date-display" bindtap="{{j}}"><text wx:if="{{h}}" class="date-text">{{i}}</text><text wx:else class="date-placeholder">请选择日期</text></view><text class="form-tip">只能选择当天及之前的日期</text></view><view class="form-group"><text class="form-label">工作内容</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="请输入工作内容" maxlength="1000" value="{{k}}" bindinput="{{l}}"/></block></view><view class="form-group"><text class="form-label">工作计划</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="请输入下周工作计划" maxlength="300" value="{{m}}" bindinput="{{n}}"/></block></view><view class="form-group"><text class="form-label">遇到的问题</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="请输入遇到的问题(选填)" maxlength="200" value="{{o}}" bindinput="{{p}}"/></block></view><button class="submit-btn" bindtap="{{q}}">提交报告</button></view><view wx:if="{{r}}" class="history-container"><view class="filter-section"><view class="search-container"><input class="search-input" placeholder="{{s}}" bindinput="{{t}}" value="{{v}}"/><text class="search-icon">🔍</text></view><view class="filter-row"><view class="filter-item" bindtap="{{x}}"><text class="filter-text">{{w}}</text><text class="filter-arrow">▼</text></view><view class="filter-item" bindtap="{{z}}"><text class="filter-text">{{y}}</text><text class="filter-icon">📅</text></view><view wx:if="{{A}}" class="filter-reset" bindtap="{{B}}"><text class="reset-text">重置</text></view></view></view><view class="stats-card"><view class="stats-item"><text class="stats-number">{{C}}</text><text class="stats-label">总报告</text></view><view class="stats-item"><text class="stats-number">{{D}}</text><text class="stats-label">已批阅</text></view><view class="stats-item"><text class="stats-number">{{E}}</text><text class="stats-label">待批阅</text></view></view><view wx:if="{{F}}" class="report-list"><view wx:for="{{G}}" wx:for-item="report" wx:key="j" class="report-item" bindtap="{{report.k}}"><view class="report-header"><text class="report-title">{{report.a}}</text><view class="{{['report-status', report.c]}}"><text>{{report.b}}</text></view></view><view class="report-info"><text class="report-date">{{report.d}}</text><text class="report-author">{{report.e}}</text></view><view class="report-summary"><text class="summary-text">{{report.f}}...</text></view><view class="report-tags"><text wx:if="{{report.g}}" class="tag">有计划</text><text wx:if="{{report.h}}" class="tag">有问题</text><text wx:if="{{report.i}}" class="tag">有批语</text></view><view class="report-action"><text class="action-text">查看详情 &gt;</text></view></view></view><view wx:else class="empty-state"><text class="empty-text">暂无工作报告</text><text class="empty-tip">点击"新建报告"开始创建</text></view></view><view wx:if="{{H}}" class="date-picker-modal"><view class="picker-overlay" bindtap="{{I}}"></view><view class="picker-container"><view class="picker-header"><text class="picker-title">选择日期</text><text class="picker-close" bindtap="{{J}}">×</text></view><view class="picker-content"><view class="picker-section"><text class="picker-label">年份</text><picker value="{{L}}" range="{{M}}" bindchange="{{N}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{K}}年</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">月份</text><picker value="{{P}}" range="{{Q}}" bindchange="{{R}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{O}}月</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">日期</text><picker value="{{T}}" range="{{U}}" bindchange="{{V}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{S}}日</text><text class="picker-arrow">▼</text></view></picker></view></view><view class="picker-actions"><button class="picker-btn cancel-btn" bindtap="{{W}}">取消</button><button class="picker-btn confirm-btn" bindtap="{{X}}">确定</button></view></view></view><view wx:if="{{Y}}" class="date-picker-modal"><view class="picker-overlay" bindtap="{{Z}}"></view><view class="picker-container"><view class="picker-header"><text class="picker-title">选择筛选日期</text><text class="picker-close" bindtap="{{aa}}">×</text></view><view class="picker-content"><view class="picker-section"><text class="picker-label">年份</text><picker value="{{ac}}" range="{{ad}}" bindchange="{{ae}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{ab}}年</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">月份</text><picker value="{{ag}}" range="{{ah}}" bindchange="{{ai}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{af}}月</text><text class="picker-arrow">▼</text></view></picker></view><view class="picker-section"><text class="picker-label">日期</text><picker value="{{ak}}" range="{{al}}" bindchange="{{am}}" class="picker-selector"><view class="picker-display"><text class="picker-text">{{aj}}日</text><text class="picker-arrow">▼</text></view></picker></view></view><view class="picker-actions"><button class="picker-btn cancel-btn" bindtap="{{an}}">取消</button><button class="picker-btn confirm-btn" bindtap="{{ao}}">确定</button></view></view></view><view wx:if="{{ap}}" class="category-filter-modal"><view class="picker-overlay" bindtap="{{aq}}"></view><view class="category-filter-container"><view class="filter-option" bindtap="{{as}}"><text class="filter-option-text">全部</text><text wx:if="{{ar}}" class="filter-option-check">✓</text></view><view class="filter-option" bindtap="{{av}}"><text class="filter-option-text">已通过</text><text wx:if="{{at}}" class="filter-option-check">✓</text></view><view class="filter-option" bindtap="{{ax}}"><text class="filter-option-text">待审批</text><text wx:if="{{aw}}" class="filter-option-check">✓</text></view><view class="filter-option" bindtap="{{az}}"><text class="filter-option-text">驳回</text><text wx:if="{{ay}}" class="filter-option-check">✓</text></view></view></view><view wx:if="{{aA}}" class="report-detail-modal"><view class="picker-overlay" bindtap="{{aB}}"></view><view class="report-detail-container"><view class="report-detail-header"><text class="report-detail-title">{{aC}}</text><text class="report-detail-date">{{aD}}</text></view><view wx:if="{{aE}}" class="report-detail-section"><text class="section-label">领导批语</text><view class="leader-comment-box"><text class="leader-comment-text">{{aF}}</text></view></view><view class="report-detail-section"><text class="section-label">工作内容</text><text class="section-content">{{aG}}</text></view><view wx:if="{{aH}}" class="report-detail-section"><text class="section-label">工作计划</text><text class="section-content">{{aI}}</text></view><view wx:if="{{aJ}}" class="report-detail-section"><text class="section-label">遇到的问题</text><text class="section-content">{{aK}}</text></view><view class="report-detail-section"><text class="section-label">报告状态</text><view class="{{['status-badge', aM]}}"><text class="status-text">{{aL}}</text></view></view><view class="report-detail-actions"><button class="close-btn" bindtap="{{aN}}">关闭</button></view></view></view></view>