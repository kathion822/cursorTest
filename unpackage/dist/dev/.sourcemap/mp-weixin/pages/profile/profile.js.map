{"version":3,"file":"profile.js","sources":["pages/profile/profile.vue","pages/profile/profile.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"profile-container\">\n\t\t<!-- 页面标题 -->\n\t\t<view class=\"profile-header\">\n\t\t\t<text class=\"profile-title\">个人资料</text>\n\t\t</view>\n\t\t\n\t\t<!-- 用户信息区域 -->\n\t\t<view class=\"user-info-section\">\n\t\t\t<!-- 头像 -->\n\t\t\t<view class=\"avatar-section\" @click=\"handleAvatarClick\">\n\t\t\t\t<view class=\"avatar-container\">\n\t\t\t\t\t<image class=\"avatar\" :src=\"userInfo.avatarUrl || '/static/default-avatar.png'\" mode=\"aspectFill\"></image>\n\t\t\t\t\t<view class=\"avatar-edit-icon\">\n\t\t\t\t\t\t<text>📷</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"avatar-tip\">点击更换头像</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 昵称 -->\n\t\t\t<view class=\"info-item\" @click=\"handleNicknameClick\">\n\t\t\t\t<view class=\"info-label\">\n\t\t\t\t\t<text class=\"label-text\">昵称</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-content\">\n\t\t\t\t\t<text class=\"content-text\">{{ userInfo.nickName || userInfo.username || '未设置' }}</text>\n\t\t\t\t\t<text class=\"edit-icon\">✏️</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 手机号 -->\n\t\t\t<view class=\"info-item\" @click=\"handlePhoneClick\">\n\t\t\t\t<view class=\"info-label\">\n\t\t\t\t\t<text class=\"label-text\">手机号</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-content\">\n\t\t\t\t\t<text class=\"content-text\">{{ userInfo.phone || '未绑定' }}</text>\n\t\t\t\t\t<text class=\"edit-icon\">✏️</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 登录方式 -->\n\t\t\t<view class=\"info-item\">\n\t\t\t\t<view class=\"info-label\">\n\t\t\t\t\t<text class=\"label-text\">登录方式</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-content\">\n\t\t\t\t\t<text class=\"content-text\">{{ getLoginTypeText() }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 用户ID -->\n\t\t\t<view class=\"info-item\">\n\t\t\t\t<view class=\"info-label\">\n\t\t\t\t\t<text class=\"label-text\">用户ID</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-content\">\n\t\t\t\t\t<text class=\"content-text\">{{ userInfo.userId || '' }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 退出登录按钮 -->\n\t\t<view class=\"logout-section\">\n\t\t\t<button class=\"logout-btn\" @click=\"handleLogout\">退出登录</button>\n\t\t</view>\n\t\t\n\t\t<!-- 昵称编辑弹窗 -->\n\t\t<uni-popup ref=\"nicknamePopup\" type=\"center\" :mask-click=\"false\">\n\t\t\t<view class=\"edit-modal\">\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">编辑昵称</text>\n\t\t\t\t\t<text class=\"close-btn\" @click=\"closeNicknamePopup\">×</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"modal-body\">\n\t\t\t\t\t<view class=\"input-group\">\n\t\t\t\t\t\t<input class=\"input-field\" v-model=\"editNickname\" placeholder=\"请输入昵称\" maxlength=\"20\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"button-group\">\n\t\t\t\t\t\t<button class=\"cancel-btn\" @click=\"closeNicknamePopup\">取消</button>\n\t\t\t\t\t\t<button class=\"confirm-btn\" @click=\"confirmNickname\">确定</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t\t\n\t\t<!-- 手机号绑定弹窗 -->\n\t\t<uni-popup ref=\"phonePopup\" type=\"center\" :mask-click=\"false\">\n\t\t\t<view class=\"edit-modal\">\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">绑定手机号</text>\n\t\t\t\t\t<text class=\"close-btn\" @click=\"closePhonePopup\">×</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"modal-body\">\n\t\t\t\t\t<view class=\"input-group\">\n\t\t\t\t\t\t<input class=\"input-field\" v-model=\"editPhone\" placeholder=\"请输入手机号\" maxlength=\"11\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"input-group sms-group\">\n\t\t\t\t\t\t<input class=\"input-field sms-input\" v-model=\"smsCode\" placeholder=\"请输入验证码\" maxlength=\"6\" />\n\t\t\t\t\t\t<button class=\"send-sms-btn\" :disabled=\"smsCountdown > 0\" @click=\"sendSmsCode\">\n\t\t\t\t\t\t\t{{ smsCountdown > 0 ? `${smsCountdown}s` : '发送验证码' }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"button-group\">\n\t\t\t\t\t\t<button class=\"cancel-btn\" @click=\"closePhonePopup\">取消</button>\n\t\t\t\t\t\t<button class=\"confirm-btn\" @click=\"confirmPhone\">确定</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuserInfo: {},\n\t\t\teditNickname: '',\n\t\t\teditPhone: '',\n\t\t\tsmsCode: '',\n\t\t\tsmsCountdown: 0\n\t\t};\n\t},\n\t\n\tonShow() {\n\t\tthis.loadUserInfo();\n\t},\n\t\n\tmethods: {\n\t\t// 加载用户信息\n\t\tloadUserInfo() {\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\tif (userInfo) {\n\t\t\t\tthis.userInfo = userInfo;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 获取登录方式文本\n\t\tgetLoginTypeText() {\n\t\t\tconst typeMap = {\n\t\t\t\t'wechat': '微信登录',\n\t\t\t\t'quick': '一键登录',\n\t\t\t\t'password': '账号密码',\n\t\t\t\t'sms': '手机验证码'\n\t\t\t};\n\t\t\treturn typeMap[this.userInfo.loginType] || '未知方式';\n\t\t},\n\t\t\n\t\t// 处理头像点击\n\t\thandleAvatarClick() {\n\t\t\t// 使用微信头像选择器\n\t\t\tthis.chooseAvatar();\n\t\t},\n\t\t\n\t\t// 选择头像\n\t\tasync chooseAvatar() {\n\t\t\ttry {\n\t\t\t\t// 检查是否支持头像选择\n\t\t\t\tif (!uni.chooseImage) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '当前环境不支持头像选择',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsizeType: ['compressed'],\n\t\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconsole.log('选择头像成功:', res);\n\t\t\t\t\t\t\tconst tempFilePath = res.tempFilePaths[0];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showLoading({ title: '上传头像中...' });\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 上传头像到云存储\n\t\t\t\t\t\t\tconst uploadResult = await this.uploadAvatar(tempFilePath);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (uploadResult) {\n\t\t\t\t\t\t\t\t// 更新用户头像\n\t\t\t\t\t\t\t\tthis.userInfo.avatarUrl = uploadResult;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 保存到本地存储\n\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 更新到云数据库\n\t\t\t\t\t\t\t\tawait this.updateUserInfo({ avatarUrl: this.userInfo.avatarUrl });\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '头像更新成功',\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('处理头像失败:', error);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '头像处理失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (error) => {\n\t\t\t\t\t\tconsole.error('选择头像失败:', error);\n\t\t\t\t\t\tif (error.errMsg && error.errMsg.includes('cancel')) {\n\t\t\t\t\t\t\t// 用户取消选择\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '选择头像失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('头像选择失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '头像选择失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 上传头像到云存储\n\t\tasync uploadAvatar(filePath) {\n\t\t\ttry {\n\t\t\t\tconsole.log('开始上传头像:', filePath);\n\t\t\t\t\n\t\t\t\t// 生成唯一的文件名\n\t\t\t\tconst timestamp = Date.now();\n\t\t\t\tconst random = Math.random().toString(36).substring(2, 11);\n\t\t\t\tconst fileName = `avatar_${this.userInfo.userId}_${timestamp}_${random}.jpg`;\n\t\t\t\t\n\t\t\t\t// 上传到云存储\n\t\t\t\tconst uploadResult = await uniCloud.uploadFile({\n\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\tcloudPath: `avatars/${fileName}`,\n\t\t\t\t\tonUploadProgress: (progressEvent) => {\n\t\t\t\t\t\tconsole.log('上传进度:', progressEvent);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tconsole.log('头像上传成功:', uploadResult);\n\t\t\t\treturn uploadResult.fileID;\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('头像上传失败:', error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 处理昵称点击\n\t\thandleNicknameClick() {\n\t\t\tthis.editNickname = this.userInfo.nickName || this.userInfo.username || '';\n\t\t\tthis.$refs.nicknamePopup.open();\n\t\t},\n\t\t\n\t\t// 关闭昵称弹窗\n\t\tcloseNicknamePopup() {\n\t\t\tthis.$refs.nicknamePopup.close();\n\t\t},\n\t\t\n\t\t// 确认昵称修改\n\t\tasync confirmNickname() {\n\t\t\tif (!this.editNickname.trim()) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '昵称不能为空',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: '保存中...' });\n\t\t\t\t\n\t\t\t\t// 更新昵称\n\t\t\t\tthis.userInfo.nickName = this.editNickname.trim();\n\t\t\t\t\n\t\t\t\t// 保存到本地存储\n\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\n\t\t\t\t// 更新到云数据库\n\t\t\t\tawait this.updateUserInfo({ nickName: this.userInfo.nickName });\n\t\t\t\t\n\t\t\t\tthis.closeNicknamePopup();\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '昵称保存成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('保存昵称失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 处理手机号点击\n\t\thandlePhoneClick() {\n\t\t\tthis.editPhone = this.userInfo.phone || '';\n\t\t\tthis.smsCode = '';\n\t\t\tthis.$refs.phonePopup.open();\n\t\t},\n\t\t\n\t\t// 关闭手机号弹窗\n\t\tclosePhonePopup() {\n\t\t\tthis.$refs.phonePopup.close();\n\t\t},\n\t\t\n\t\t// 发送短信验证码\n\t\tasync sendSmsCode() {\n\t\t\tif (!this.editPhone) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入手机号',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'send-sms-code',\n\t\t\t\t\tdata: { phone: this.editPhone }\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (result.result.code === 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '验证码已发送',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tthis.startSmsCountdown();\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.result.message || '发送失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('发送验证码失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '发送失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 开始短信倒计时\n\t\tstartSmsCountdown() {\n\t\t\tthis.smsCountdown = 60;\n\t\t\tconst timer = setInterval(() => {\n\t\t\t\tthis.smsCountdown--;\n\t\t\t\tif (this.smsCountdown <= 0) {\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t},\n\t\t\n\t\t// 确认手机号绑定\n\t\tasync confirmPhone() {\n\t\t\tif (!this.editPhone) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入手机号',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (!this.smsCode) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入验证码',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: '绑定中...' });\n\t\t\t\t\n\t\t\t\t// 验证短信验证码\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'verify-sms-code',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tphone: this.editPhone,\n\t\t\t\t\t\tcode: this.smsCode\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (result.result.code === 0) {\n\t\t\t\t\t// 更新手机号\n\t\t\t\t\tthis.userInfo.phone = this.editPhone;\n\t\t\t\t\t\n\t\t\t\t\t// 保存到本地存储\n\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\t\n\t\t\t\t\t// 更新到云数据库\n\t\t\t\t\tawait this.updateUserInfo({ phone: this.userInfo.phone });\n\t\t\t\t\t\n\t\t\t\t\tthis.closePhonePopup();\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '手机号绑定成功',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.result.message || '验证码错误',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('绑定手机号失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '绑定失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 更新用户信息到云数据库\n\t\tasync updateUserInfo(updateData) {\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'update-user-info',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId: this.userInfo.userId,\n\t\t\t\t\t\tupdateData: updateData\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tconsole.log('用户信息更新成功:', result);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('更新用户信息失败:', error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 退出登录\n\t\tasync handleLogout() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认退出',\n\t\t\t\tcontent: '确定要退出登录吗？',\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// 调用退出登录云函数\n\t\t\t\t\t\t\tawait uniCloud.callFunction({\n\t\t\t\t\t\t\t\tname: 'logout',\n\t\t\t\t\t\t\t\tdata: { token: uni.getStorageSync('token') }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 清除本地存储\n\t\t\t\t\t\t\tuni.removeStorageSync('userInfo');\n\t\t\t\t\t\t\tuni.removeStorageSync('token');\n\t\t\t\t\t\t\tuni.removeStorageSync('loginType');\n\t\t\t\t\t\t\tuni.removeStorageSync('openid');\n\t\t\t\t\t\t\tuni.removeStorageSync('sessionKey');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已退出登录',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 返回上一页\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('退出登录失败:', error);\n\t\t\t\t\t\t\t// 即使云函数调用失败，也要清除本地数据\n\t\t\t\t\t\t\tuni.removeStorageSync('userInfo');\n\t\t\t\t\t\t\tuni.removeStorageSync('token');\n\t\t\t\t\t\t\tuni.removeStorageSync('loginType');\n\t\t\t\t\t\t\tuni.removeStorageSync('openid');\n\t\t\t\t\t\t\tuni.removeStorageSync('sessionKey');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已退出登录',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.profile-container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n}\n\n.profile-header {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tpadding: 40rpx 30rpx;\n\ttext-align: center;\n\t\n\t.profile-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: white;\n\t}\n}\n\n.user-info-section {\n\tbackground: white;\n\tmargin: 20rpx;\n\tborder-radius: 20rpx;\n\toverflow: hidden;\n\t\n\t.avatar-section {\n\t\tpadding: 40rpx;\n\t\ttext-align: center;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t\t\n\t\t.avatar-container {\n\t\t\tposition: relative;\n\t\t\tdisplay: inline-block;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t\n\t\t\t.avatar {\n\t\t\t\twidth: 120rpx;\n\t\t\t\theight: 120rpx;\n\t\t\t\tborder-radius: 60rpx;\n\t\t\t\tborder: 4rpx solid rgba(102, 126, 234, 0.3);\n\t\t\t}\n\t\t\t\n\t\t\t.avatar-edit-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 0;\n\t\t\t\tright: 0;\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t\tbackground: #667eea;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tfont-size: 20rpx;\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.avatar-tip {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.info-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t\t\n\t\t&:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\t\t\n\t\t&:active {\n\t\t\tbackground-color: #f8f8f8;\n\t\t}\n\t\t\n\t\t.info-label {\n\t\t\twidth: 200rpx;\n\t\t\t\n\t\t\t.label-text {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #333;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.info-content {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\t\n\t\t\t.content-text {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\t\t\t\n\t\t\t.edit-icon {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.logout-section {\n\tmargin: 40rpx 20rpx;\n\t\n\t.logout-btn {\n\t\twidth: 100%;\n\t\theight: 80rpx;\n\t\tbackground: #ff4757;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 10rpx;\n\t\tfont-size: 30rpx;\n\t}\n}\n\n.edit-modal {\n\tbackground: white;\n\tborder-radius: 20rpx;\n\twidth: 600rpx;\n\t\n\t.modal-header {\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\t\n\t\t.modal-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.close-btn {\n\t\t\tfont-size: 40rpx;\n\t\t\tcolor: #999;\n\t\t\tline-height: 1;\n\t\t}\n\t}\n\t\n\t.modal-body {\n\t\tpadding: 30rpx;\n\t\t\n\t\t.input-group {\n\t\t\tmargin-bottom: 30rpx;\n\t\t\t\n\t\t\t&.sms-group {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 20rpx;\n\t\t\t\t\n\t\t\t\t.sms-input {\n\t\t\t\t\tflex: 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.send-sms-btn {\n\t\t\t\t\twidth: 200rpx;\n\t\t\t\t\theight: 80rpx;\n\t\t\t\t\tbackground: #2867ce;\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\n\t\t\t\t\t&:disabled {\n\t\t\t\t\t\tbackground: #ccc;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.input-field {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 80rpx;\n\t\t\t\tborder: 1rpx solid #ddd;\n\t\t\t\tborder-radius: 10rpx;\n\t\t\t\tpadding: 0 20rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\n\t\t\t\t&:focus {\n\t\t\t\t\tborder-color: #2867ce;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.button-group {\n\t\t\tdisplay: flex;\n\t\t\tgap: 20rpx;\n\t\t\t\n\t\t\t.cancel-btn, .confirm-btn {\n\t\t\t\tflex: 1;\n\t\t\t\theight: 80rpx;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 10rpx;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.cancel-btn {\n\t\t\t\tbackground: #f0f0f0;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\t\t\t\n\t\t\t.confirm-btn {\n\t\t\t\tbackground: #2867ce;\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/clairyang/Downloads/cursor-test/项目报告/pages/profile/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}