{"version":3,"file":"like.js","sources":["pages/like/like.vue","pages/like/like.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"work-report-container\">\n\t\t<!-- 页面标题 -->\n\t\t<view class=\"page-header\">\n\t\t\t<text class=\"page-title\">工作报告</text>\n\t\t\t<button class=\"new-report-btn\" @click=\"showNewReportModal\">新建报告</button>\n\t\t</view>\n\t\t\n\t\t<!-- 工作报告列表 -->\n\t\t<view class=\"report-list-section\">\n\t\t\t<view class=\"section-title\">\n\t\t\t\t<text class=\"title-text\">历史报告</text>\n\t\t\t\t<text class=\"report-count\">({{ reportList.length }})</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"report-list\" v-if=\"reportList.length > 0\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"report-item\" \n\t\t\t\t\tv-for=\"(report, index) in reportList\" \n\t\t\t\t\t:key=\"report.id\"\n\t\t\t\t\t@click=\"viewReportDetail(report)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"report-header\">\n\t\t\t\t\t\t<text class=\"report-title\">{{ report.title }}</text>\n\t\t\t\t\t\t<view class=\"report-status\" :class=\"getStatusClass(report.status)\">\n\t\t\t\t\t\t\t<text>{{ getStatusText(report.status) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"report-info\">\n\t\t\t\t\t\t<text class=\"report-date\">{{ formatDate(report.createTime) }}</text>\n\t\t\t\t\t\t<text class=\"report-author\">{{ report.author }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"report-summary\">\n\t\t\t\t\t\t<text class=\"summary-text\">{{ report.summary }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"report-footer\">\n\t\t\t\t\t\t<view class=\"leader-comment\" v-if=\"report.leaderComment\">\n\t\t\t\t\t\t\t<text class=\"comment-label\">领导批语:</text>\n\t\t\t\t\t\t\t<text class=\"comment-text\">{{ report.leaderComment }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"view-detail\">\n\t\t\t\t\t\t\t<text class=\"detail-text\">点击查看详情 →</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t<text class=\"empty-text\">暂无工作报告</text>\n\t\t\t\t<text class=\"empty-tip\">点击上方\"新建报告\"开始创建</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 新建/编辑报告弹窗 -->\n\t\t<uni-popup ref=\"reportModal\" type=\"center\" :mask-click=\"false\">\n\t\t\t<view class=\"report-modal\">\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">{{ isEditing ? '编辑报告' : '新建报告' }}</text>\n\t\t\t\t\t<text class=\"close-btn\" @click=\"closeReportModal\">×</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"modal-body\">\n\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t<text class=\"form-label\">报告标题 *</text>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclass=\"form-input\" \n\t\t\t\t\t\t\tv-model=\"reportForm.title\" \n\t\t\t\t\t\t\tplaceholder=\"请输入报告标题\"\n\t\t\t\t\t\t\tmaxlength=\"50\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t<text class=\"form-label\">工作内容 *</text>\n\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\tclass=\"form-textarea\" \n\t\t\t\t\t\t\tv-model=\"reportForm.content\" \n\t\t\t\t\t\t\tplaceholder=\"请详细描述工作内容、完成情况、遇到的问题等\"\n\t\t\t\t\t\t\tmaxlength=\"1000\"\n\t\t\t\t\t\t\t:maxlength=\"-1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<text class=\"char-count\">{{ reportForm.content.length }}/1000</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t<text class=\"form-label\">工作总结</text>\n\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\tclass=\"form-textarea\" \n\t\t\t\t\t\t\tv-model=\"reportForm.summary\" \n\t\t\t\t\t\t\tplaceholder=\"请总结本次工作的要点和成果\"\n\t\t\t\t\t\t\tmaxlength=\"200\"\n\t\t\t\t\t\t\t:maxlength=\"-1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<text class=\"char-count\">{{ reportForm.summary.length }}/200</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t<text class=\"form-label\">下次计划</text>\n\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\tclass=\"form-textarea\" \n\t\t\t\t\t\t\tv-model=\"reportForm.nextPlan\" \n\t\t\t\t\t\t\tplaceholder=\"请描述下次工作的计划和目标\"\n\t\t\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t\t\t\t:maxlength=\"-1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<text class=\"char-count\">{{ reportForm.nextPlan.length }}/300</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"button-group\">\n\t\t\t\t\t\t<button class=\"cancel-btn\" @click=\"closeReportModal\">取消</button>\n\t\t\t\t\t\t<button class=\"save-btn\" @click=\"saveReport\" :disabled=\"!isFormValid\">保存</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t\t\n\t\t<!-- 报告详情弹窗 -->\n\t\t<uni-popup ref=\"detailModal\" type=\"center\" :mask-click=\"false\">\n\t\t\t<view class=\"detail-modal\">\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">报告详情</text>\n\t\t\t\t\t<text class=\"close-btn\" @click=\"closeDetailModal\">×</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"modal-body\">\n\t\t\t\t\t<view class=\"detail-section\">\n\t\t\t\t\t\t<text class=\"detail-label\">报告标题</text>\n\t\t\t\t\t\t<text class=\"detail-content\">{{ currentReport.title }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-section\">\n\t\t\t\t\t\t<text class=\"detail-label\">创建时间</text>\n\t\t\t\t\t\t<text class=\"detail-content\">{{ formatDate(currentReport.createTime) }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-section\">\n\t\t\t\t\t\t<text class=\"detail-label\">报告作者</text>\n\t\t\t\t\t\t<text class=\"detail-content\">{{ currentReport.author }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-section\">\n\t\t\t\t\t\t<text class=\"detail-label\">工作内容</text>\n\t\t\t\t\t\t<text class=\"detail-content content-text\">{{ currentReport.content }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-section\" v-if=\"currentReport.summary\">\n\t\t\t\t\t\t<text class=\"detail-label\">工作总结</text>\n\t\t\t\t\t\t<text class=\"detail-content content-text\">{{ currentReport.summary }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-section\" v-if=\"currentReport.nextPlan\">\n\t\t\t\t\t\t<text class=\"detail-label\">下次计划</text>\n\t\t\t\t\t\t<text class=\"detail-content content-text\">{{ currentReport.nextPlan }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-section\" v-if=\"currentReport.leaderComment\">\n\t\t\t\t\t\t<text class=\"detail-label\">领导批语</text>\n\t\t\t\t\t\t<view class=\"leader-comment-box\">\n\t\t\t\t\t\t\t<text class=\"comment-text\">{{ currentReport.leaderComment }}</text>\n\t\t\t\t\t\t\t<text class=\"comment-time\">{{ formatDate(currentReport.commentTime) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"detail-actions\">\n\t\t\t\t\t\t<button class=\"edit-btn\" @click=\"editReport\" v-if=\"currentReport.status === 'draft'\">编辑报告</button>\n\t\t\t\t\t\t<button class=\"close-detail-btn\" @click=\"closeDetailModal\">关闭</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// 报告列表\n\t\t\treportList: [],\n\t\t\t// 当前查看的报告\n\t\t\tcurrentReport: {},\n\t\t\t// 是否正在编辑\n\t\t\tisEditing: false,\n\t\t\t// 报告表单\n\t\t\treportForm: {\n\t\t\t\tid: '',\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t\tsummary: '',\n\t\t\t\tnextPlan: ''\n\t\t\t},\n\t\t\t// 模拟数据\n\t\t\tmockReports: [\n\t\t\t\t{\n\t\t\t\t\tid: '1',\n\t\t\t\t\ttitle: '本周项目开发进度报告',\n\t\t\t\t\tcontent: '本周主要完成了用户管理模块的开发，包括用户注册、登录、权限管理等功能。在开发过程中遇到了一些技术难点，通过查阅资料和团队讨论得到了解决。整体进度符合预期，预计下周可以完成测试阶段。',\n\t\t\t\t\tsummary: '用户管理模块开发完成，技术难点已解决，进度符合预期。',\n\t\t\t\t\tnextPlan: '下周进行功能测试，修复发现的bug，准备部署上线。',\n\t\t\t\t\tauthor: '张三',\n\t\t\t\t\tstatus: 'approved',\n\t\t\t\t\tcreateTime: '2024-01-15 14:30:00',\n\t\t\t\t\tleaderComment: '工作进展良好，技术难点解决得当。建议在测试阶段重点关注用户体验，确保功能稳定性。',\n\t\t\t\t\tcommentTime: '2024-01-16 09:15:00'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\ttitle: '月度工作总结报告',\n\t\t\t\t\tcontent: '本月完成了三个重要项目的交付，客户满意度较高。团队协作效率提升，新员工培训计划执行顺利。在项目管理方面积累了一些经验，为后续工作提供了参考。',\n\t\t\t\t\tsummary: '三个项目成功交付，团队效率提升，新员工培训完成。',\n\t\t\t\t\tnextPlan: '下月重点推进新项目立项，优化项目管理流程，提升团队技能。',\n\t\t\t\t\tauthor: '李四',\n\t\t\t\t\tstatus: 'pending',\n\t\t\t\t\tcreateTime: '2024-01-10 16:45:00',\n\t\t\t\t\tleaderComment: '',\n\t\t\t\t\tcommentTime: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\ttitle: '技术调研报告',\n\t\t\t\t\tcontent: '针对新技术的应用进行了深入调研，分析了技术优势、适用场景和潜在风险。通过对比分析，推荐采用新技术方案，预计可以提升系统性能30%以上。',\n\t\t\t\t\tsummary: '新技术调研完成，推荐采用，预计性能提升30%以上。',\n\t\t\t\t\tnextPlan: '制定技术迁移计划，进行小规模试点，评估实际效果。',\n\t\t\t\t\tauthor: '王五',\n\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\tcreateTime: '2024-01-12 11:20:00',\n\t\t\t\t\tleaderComment: '',\n\t\t\t\t\tcommentTime: ''\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\t\n\tcomputed: {\n\t\t// 表单验证\n\t\tisFormValid() {\n\t\t\treturn this.reportForm.title.trim() && this.reportForm.content.trim();\n\t\t}\n\t},\n\t\n\tmounted() {\n\t\t// 检测当前运行平台\n\t\ttry {\n\t\t\tconst systemInfo = uni.getSystemInfoSync();\n\t\t\tconsole.log('系统信息:', systemInfo);\n\t\t\tconsole.log('运行平台:', systemInfo.platform);\n\t\t\tconsole.log('运行环境:', systemInfo.uniPlatform);\n\t\t} catch (error) {\n\t\t\tconsole.warn('获取系统信息失败:', error);\n\t\t}\n\t\t\n\t\t// 加载报告列表\n\t\tthis.loadReportList();\n\t},\n\t\n\tmethods: {\n\t\t// 加载报告列表\n\t\tloadReportList() {\n\t\t\ttry {\n\t\t\t\t// 尝试从本地存储加载数据\n\t\t\t\tconst storedReports = uni.getStorageSync('workReports');\n\t\t\t\tif (storedReports && Array.isArray(storedReports)) {\n\t\t\t\t\tthis.reportList = storedReports;\n\t\t\t\t\tconsole.log('从本地存储加载报告:', this.reportList.length);\n\t\t\t\t} else {\n\t\t\t\t\t// 如果没有本地数据，使用模拟数据\n\t\t\t\t\tthis.reportList = [...this.mockReports];\n\t\t\t\t\tconsole.log('使用模拟数据:', this.reportList.length);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.warn('加载本地数据失败，使用模拟数据:', error);\n\t\t\t\t// 如果本地存储访问失败，使用模拟数据\n\t\t\t\tthis.reportList = [...this.mockReports];\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 显示新建报告弹窗\n\t\tshowNewReportModal() {\n\t\t\tthis.isEditing = false;\n\t\t\tthis.resetForm();\n\t\t\tthis.$refs.reportModal.open();\n\t\t},\n\t\t\n\t\t// 关闭报告弹窗\n\t\tcloseReportModal() {\n\t\t\tthis.$refs.reportModal.close();\n\t\t\tthis.resetForm();\n\t\t},\n\t\t\n\t\t// 关闭详情弹窗\n\t\tcloseDetailModal() {\n\t\t\tthis.$refs.detailModal.close();\n\t\t},\n\t\t\n\t\t// 重置表单\n\t\tresetForm() {\n\t\t\tthis.reportForm = {\n\t\t\t\tid: '',\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t\tsummary: '',\n\t\t\t\tnextPlan: ''\n\t\t\t};\n\t\t},\n\t\t\n\t\t// 保存报告\n\t\tasync saveReport() {\n\t\t\tif (!this.isFormValid) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请填写必填项',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: '保存中...' });\n\t\t\t\t\n\t\t\t\t// 模拟网络延迟\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 500));\n\t\t\t\t\n\t\t\t\tif (this.isEditing) {\n\t\t\t\t\t// 编辑现有报告\n\t\t\t\t\tconst index = this.reportList.findIndex(item => item.id === this.reportForm.id);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tthis.reportList[index] = {\n\t\t\t\t\t\t\t...this.reportList[index],\n\t\t\t\t\t\t\t...this.reportForm,\n\t\t\t\t\t\t\tupdateTime: new Date().toISOString()\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 创建新报告\n\t\t\t\t\tconst newReport = {\n\t\t\t\t\t\tid: Date.now().toString(),\n\t\t\t\t\t\t...this.reportForm,\n\t\t\t\t\t\tauthor: '当前用户',\n\t\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\t\tcreateTime: new Date().toISOString(),\n\t\t\t\t\t\tleaderComment: '',\n\t\t\t\t\t\tcommentTime: ''\n\t\t\t\t\t};\n\t\t\t\t\tthis.reportList.unshift(newReport);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 保存到本地存储（实际应用中应该保存到服务器）\n\t\t\t\ttry {\n\t\t\t\t\tuni.setStorageSync('workReports', this.reportList);\n\t\t\t\t} catch (storageError) {\n\t\t\t\t\tconsole.warn('本地存储失败，使用内存存储:', storageError);\n\t\t\t\t\t// 如果本地存储失败，至少保持在内存中\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: this.isEditing ? '更新成功' : '创建成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.closeReportModal();\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('保存报告失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 查看报告详情\n\t\tviewReportDetail(report) {\n\t\t\tthis.currentReport = { ...report };\n\t\t\tthis.$refs.detailModal.open();\n\t\t},\n\t\t\n\t\t// 编辑报告\n\t\teditReport() {\n\t\t\tthis.isEditing = true;\n\t\t\tthis.reportForm = { ...this.currentReport };\n\t\t\tthis.closeDetailModal();\n\t\t\tthis.$refs.reportModal.open();\n\t\t},\n\t\t\n\t\t// 获取状态样式类\n\t\tgetStatusClass(status) {\n\t\t\tconst statusMap = {\n\t\t\t\tdraft: 'status-draft',\n\t\t\t\tpending: 'status-pending',\n\t\t\t\tapproved: 'status-approved',\n\t\t\t\trejected: 'status-rejected'\n\t\t\t};\n\t\t\treturn statusMap[status] || 'status-draft';\n\t\t},\n\t\t\n\t\t// 获取状态文本\n\t\tgetStatusText(status) {\n\t\t\tconst statusMap = {\n\t\t\t\tdraft: '草稿',\n\t\t\t\tpending: '待审批',\n\t\t\t\tapproved: '已通过',\n\t\t\t\trejected: '已拒绝'\n\t\t\t};\n\t\t\treturn statusMap[status] || '草稿';\n\t\t},\n\t\t\n\t\t// 格式化日期\n\t\tformatDate(dateString) {\n\t\t\tif (!dateString) return '';\n\t\t\tconst date = new Date(dateString);\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n\t\t},\n\t\t\n\t\t// 选择头像\n\t\tasync chooseAvatar() {\n\t\t\ttry {\n\t\t\t\t// 检查当前平台\n\t\t\t\tconst platform = uni.getSystemInfoSync().platform;\n\t\t\t\tconsole.log('当前运行平台:', platform);\n\t\t\t\t\n\t\t\t\t// 在小程序中使用chooseImage，在H5中使用input\n\t\t\t\tif (platform === 'devtools' || platform === 'mp-weixin') {\n\t\t\t\t\t// 小程序环境\n\t\t\t\t\tthis.chooseImageInMiniProgram();\n\t\t\t\t} else {\n\t\t\t\t\t// H5环境\n\t\t\t\t\tthis.chooseImageInH5();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('头像选择失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '头像选择失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 小程序环境下的头像选择\n\t\tchooseImageInMiniProgram() {\n\t\t\tif (!uni.chooseImage) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '当前环境不支持头像选择',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconsole.log('选择头像成功:', res);\n\t\t\t\t\t\tconst tempFilePath = res.tempFilePaths[0];\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showLoading({ title: '上传头像中...' });\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 上传头像到云存储\n\t\t\t\t\t\tconst uploadResult = await this.uploadAvatar(tempFilePath);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (uploadResult) {\n\t\t\t\t\t\t\t// 更新用户头像\n\t\t\t\t\t\t\tthis.userInfo.avatarUrl = uploadResult;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 保存到本地存储\n\t\t\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 更新到云数据库\n\t\t\t\t\t\t\tawait this.updateUserInfo({ avatarUrl: this.userInfo.avatarUrl });\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '头像更新成功',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('处理头像失败:', error);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '头像处理失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (error) => {\n\t\t\t\t\tconsole.error('选择头像失败:', error);\n\t\t\t\t\tif (error.errMsg && error.errMsg.includes('cancel')) {\n\t\t\t\t\t\t// 用户取消选择\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '选择头像失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// H5环境下的头像选择\n\t\tchooseImageInH5() {\n\t\t\t// 创建文件输入元素\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.type = 'file';\n\t\t\tinput.accept = 'image/*';\n\t\t\tinput.style.display = 'none';\n\t\t\t\n\t\t\t// 监听文件选择\n\t\t\tinput.onchange = async (event) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst file = event.target.files[0];\n\t\t\t\t\tif (!file) return;\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('H5选择头像成功:', file);\n\t\t\t\t\t\n\t\t\t\t\t// 检查文件大小（限制为5MB）\n\t\t\t\t\tif (file.size > 5 * 1024 * 1024) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '图片大小不能超过5MB',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 检查文件类型\n\t\t\t\t\tif (!file.type.startsWith('image/')) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请选择图片文件',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tuni.showLoading({ title: '处理头像中...' });\n\t\t\t\t\t\n\t\t\t\t\t// 将文件转换为临时路径\n\t\t\t\t\tconst tempFilePath = URL.createObjectURL(file);\n\t\t\t\t\t\n\t\t\t\t\t// 模拟上传（H5环境下）\n\t\t\t\t\tconst uploadResult = await this.uploadAvatarInH5(file);\n\t\t\t\t\t\n\t\t\t\t\tif (uploadResult) {\n\t\t\t\t\t\t// 更新用户头像\n\t\t\t\t\t\tthis.userInfo.avatarUrl = uploadResult;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 保存到本地存储\n\t\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 更新到云数据库\n\t\t\t\t\t\tawait this.updateUserInfo({ avatarUrl: this.userInfo.avatarUrl });\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '头像更新成功',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 清理临时URL\n\t\t\t\t\tURL.revokeObjectURL(tempFilePath);\n\t\t\t\t\t\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('H5头像处理失败:', error);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '头像处理失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\t// 触发文件选择\n\t\t\tdocument.body.appendChild(input);\n\t\t\tinput.click();\n\t\t\t\n\t\t\t// 清理DOM元素\n\t\t\tsetTimeout(() => {\n\t\t\t\tdocument.body.removeChild(input);\n\t\t\t}, 1000);\n\t\t},\n\t\t\n\t\t// H5环境下的头像上传\n\t\tasync uploadAvatarInH5(file) {\n\t\t\ttry {\n\t\t\t\tconsole.log('H5头像上传开始:', file);\n\t\t\t\t\n\t\t\t\t// 生成唯一的文件名\n\t\t\t\tconst timestamp = Date.now();\n\t\t\t\tconst random = Math.random().toString(36).substring(2, 11);\n\t\t\t\tconst fileName = `avatar_${this.userInfo.userId}_${timestamp}_${random}.jpg`;\n\t\t\t\t\n\t\t\t\t// 在H5环境下，我们返回一个模拟的URL\n\t\t\t\t// 实际应用中，这里应该调用真实的上传API\n\t\t\t\tconst mockUrl = `data:${file.type};base64,${await this.fileToBase64(file)}`;\n\t\t\t\t\n\t\t\t\tconsole.log('H5头像上传完成，生成模拟URL');\n\t\t\t\treturn mockUrl;\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('H5头像上传失败:', error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 文件转Base64\n\t\tfileToBase64(file) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = () => {\n\t\t\t\t\tconst base64 = reader.result.split(',')[1];\n\t\t\t\t\tresolve(base64);\n\t\t\t\t};\n\t\t\t\treader.onerror = reject;\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n.work-report-container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\tpadding: 20rpx;\n}\n\n.page-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 30rpx;\n\tpadding: 20rpx;\n\tbackground-color: #fff;\n\tborder-radius: 16rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.1);\n}\n\n.page-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.new-report-btn {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tcolor: #fff;\n\tborder: none;\n\tborder-radius: 25rpx;\n\tpadding: 16rpx 32rpx;\n\tfont-size: 28rpx;\n\tfont-weight: 500;\n}\n\n.report-list-section {\n\tbackground-color: #fff;\n\tborder-radius: 16rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.1);\n}\n\n.section-title {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 30rpx;\n}\n\n.title-text {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.report-count {\n\tfont-size: 24rpx;\n\tcolor: #999;\n\tmargin-left: 10rpx;\n}\n\n.report-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20rpx;\n}\n\n.report-item {\n\tbackground-color: #fafafa;\n\tborder-radius: 12rpx;\n\tpadding: 24rpx;\n\tborder-left: 6rpx solid #667eea;\n\ttransition: all 0.3s ease;\n\t\n\t&:active {\n\t\ttransform: scale(0.98);\n\t\tbackground-color: #f0f0f0;\n\t}\n}\n\n.report-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 16rpx;\n}\n\n.report-title {\n\tfont-size: 30rpx;\n\tfont-weight: 600;\n\tcolor: #333;\n\tflex: 1;\n}\n\n.report-status {\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 20rpx;\n\tfont-size: 22rpx;\n\tfont-weight: 500;\n\t\n\t&.status-draft {\n\t\tbackground-color: #e3f2fd;\n\t\tcolor: #1976d2;\n\t}\n\t\n\t&.status-pending {\n\t\tbackground-color: #fff3e0;\n\t\tcolor: #f57c00;\n\t}\n\t\n\t&.status-approved {\n\t\tbackground-color: #e8f5e8;\n\t\tcolor: #388e3c;\n\t}\n\t\n\t&.status-rejected {\n\t\tbackground-color: #ffebee;\n\t\tcolor: #d32f2f;\n\t}\n}\n\n.report-info {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 16rpx;\n}\n\n.report-date, .report-author {\n\tfont-size: 24rpx;\n\tcolor: #666;\n}\n\n.report-summary {\n\tmargin-bottom: 20rpx;\n}\n\n.summary-text {\n\tfont-size: 26rpx;\n\tcolor: #555;\n\tline-height: 1.5;\n}\n\n.report-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.leader-comment {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n}\n\n.comment-label {\n\tfont-size: 22rpx;\n\tcolor: #999;\n\tmargin-right: 10rpx;\n}\n\n.comment-text {\n\tfont-size: 22rpx;\n\tcolor: #666;\n\tflex: 1;\n}\n\n.view-detail {\n\ttext-align: right;\n}\n\n.detail-text {\n\tfont-size: 22rpx;\n\tcolor: #667eea;\n}\n\n.empty-state {\n\ttext-align: center;\n\tpadding: 80rpx 20rpx;\n}\n\n.empty-text {\n\tfont-size: 28rpx;\n\tcolor: #999;\n\tdisplay: block;\n\tmargin-bottom: 16rpx;\n}\n\n.empty-tip {\n\tfont-size: 24rpx;\n\tcolor: #ccc;\n}\n\n/* 弹窗样式 */\n.report-modal, .detail-modal {\n\tbackground-color: #fff;\n\tborder-radius: 20rpx;\n\twidth: 90vw;\n\tmax-width: 600rpx;\n\tmax-height: 80vh;\n\toverflow: hidden;\n}\n\n.modal-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 30rpx;\n\tborder-bottom: 1rpx solid #eee;\n}\n\n.modal-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.close-btn {\n\tfont-size: 40rpx;\n\tcolor: #999;\n\tbackground: none;\n\tborder: none;\n\tpadding: 0;\n\twidth: 60rpx;\n\theight: 60rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.modal-body {\n\tpadding: 30rpx;\n\tmax-height: 60vh;\n\toverflow-y: auto;\n}\n\n.form-group {\n\tmargin-bottom: 24rpx;\n\tposition: relative;\n}\n\n.form-label {\n\tdisplay: block;\n\tfont-size: 28rpx;\n\tfont-weight: 500;\n\tcolor: #333;\n\tmargin-bottom: 12rpx;\n}\n\n.form-input, .form-textarea {\n\twidth: 100%;\n\tborder: 2rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tpadding: 16rpx;\n\tfont-size: 28rpx;\n\tcolor: #333;\n\tbackground-color: #fafafa;\n\t\n\t&:focus {\n\t\tborder-color: #667eea;\n\t\tbackground-color: #fff;\n\t}\n}\n\n.form-textarea {\n\tmin-height: 120rpx;\n\tresize: none;\n}\n\n.char-count {\n\tposition: absolute;\n\tright: 16rpx;\n\tbottom: 16rpx;\n\tfont-size: 22rpx;\n\tcolor: #999;\n}\n\n.button-group {\n\tdisplay: flex;\n\tgap: 20rpx;\n\tmargin-top: 40rpx;\n}\n\n.cancel-btn, .save-btn {\n\tflex: 1;\n\tpadding: 20rpx;\n\tborder-radius: 8rpx;\n\tfont-size: 28rpx;\n\tfont-weight: 500;\n\tborder: none;\n}\n\n.cancel-btn {\n\tbackground-color: #f5f5f5;\n\tcolor: #666;\n}\n\n.save-btn {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tcolor: #fff;\n\t\n\t&:disabled {\n\t\tbackground: #ccc;\n\t\topacity: 0.6;\n\t}\n}\n\n/* 详情弹窗样式 */\n.detail-section {\n\tmargin-bottom: 24rpx;\n}\n\n.detail-label {\n\tdisplay: block;\n\tfont-size: 26rpx;\n\tfont-weight: 500;\n\tcolor: #666;\n\tmargin-bottom: 8rpx;\n}\n\n.detail-content {\n\tfont-size: 28rpx;\n\tcolor: #333;\n\tline-height: 1.5;\n\t\n\t&.content-text {\n\t\tbackground-color: #f9f9f9;\n\t\tpadding: 16rpx;\n\t\tborder-radius: 8rpx;\n\t\twhite-space: pre-wrap;\n\t}\n}\n\n.leader-comment-box {\n\tbackground-color: #fff3e0;\n\tpadding: 20rpx;\n\tborder-radius: 8rpx;\n\tborder-left: 4rpx solid #ff9800;\n}\n\n.comment-text {\n\tfont-size: 28rpx;\n\tcolor: #333;\n\tline-height: 1.5;\n\tdisplay: block;\n\tmargin-bottom: 12rpx;\n}\n\n.comment-time {\n\tfont-size: 22rpx;\n\tcolor: #999;\n}\n\n.detail-actions {\n\tdisplay: flex;\n\tgap: 20rpx;\n\tmargin-top: 40rpx;\n}\n\n.edit-btn, .close-detail-btn {\n\tflex: 1;\n\tpadding: 20rpx;\n\tborder-radius: 8rpx;\n\tfont-size: 28rpx;\n\tfont-weight: 500;\n\tborder: none;\n}\n\n.edit-btn {\n\tbackground: linear-gradient(135deg, #4caf50 0%, #45a049 100%);\n\tcolor: #fff;\n}\n\n.close-detail-btn {\n\tbackground-color: #f5f5f5;\n\tcolor: #666;\n}\n</style>\n","import MiniProgramPage from '/Users/clairyang/Downloads/cursor-test/项目报告/pages/like/like.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}