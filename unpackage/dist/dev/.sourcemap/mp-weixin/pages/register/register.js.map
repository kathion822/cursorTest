{"version":3,"file":"register.js","sources":["pages/register/register.vue","pages/register/register.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"register-container\">\n\t\t<!-- 页面标题 -->\n\t\t<view class=\"register-header\">\n\t\t\t<text class=\"register-title\">用户注册</text>\n\t\t\t<text class=\"register-subtitle\">创建您的账号</text>\n\t\t</view>\n\t\t\n\t\t<!-- 注册表单 -->\n\t\t<view class=\"register-form\">\n\t\t\t<view class=\"form-group\">\n\t\t\t\t<text class=\"form-label\">用户名</text>\n\t\t\t\t<input class=\"form-input\" v-model=\"registerForm.username\" placeholder=\"请输入用户名\" />\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-group\">\n\t\t\t\t<text class=\"form-label\">手机号</text>\n\t\t\t\t<input class=\"form-input\" v-model=\"registerForm.phone\" placeholder=\"请输入手机号\" />\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-group\">\n\t\t\t\t<text class=\"form-label\">密码</text>\n\t\t\t\t<input class=\"form-input\" v-model=\"registerForm.password\" type=\"password\" placeholder=\"请输入密码\" />\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-group\">\n\t\t\t\t<text class=\"form-label\">确认密码</text>\n\t\t\t\t<input class=\"form-input\" v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"请再次输入密码\" />\n\t\t\t</view>\n\t\t\t\n\t\t\t<button class=\"register-btn\" @click=\"handleRegister\">立即注册</button>\n\t\t</view>\n\t\t\n\t\t<!-- 其他选项 -->\n\t\t<view class=\"register-options\">\n\t\t\t<text class=\"login-link\" @click=\"goToLogin\">已有账号？立即登录</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tregisterForm: {\n\t\t\t\tusername: '',\n\t\t\t\tphone: '',\n\t\t\t\tpassword: '',\n\t\t\t\tconfirmPassword: ''\n\t\t\t}\n\t\t};\n\t},\n\t\n\tmethods: {\n\t\t// 处理注册\n\t\tasync handleRegister() {\n\t\t\t// 表单验证\n\t\t\tif (!this.registerForm.username) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入用户名',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (!this.registerForm.phone) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入手机号',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (!this.registerForm.password) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入密码',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.registerForm.password !== this.registerForm.confirmPassword) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '两次密码输入不一致',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: '注册中...' });\n\t\t\t\t\n\t\t\t\t// 调用注册云函数\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'user-register',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusername: this.registerForm.username,\n\t\t\t\t\t\tphone: this.registerForm.phone,\n\t\t\t\t\t\tpassword: this.registerForm.password\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (result.result.code === 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '注册成功',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// 延迟跳转到登录页\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t}, 1500);\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.result.message || '注册失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('注册失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '注册失败，请重试',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 跳转到登录页\n\t\tgoToLogin() {\n\t\t\tuni.navigateBack();\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.register-container {\n\tmin-height: 100vh;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tpadding: 40rpx 30rpx;\n}\n\n.register-header {\n\ttext-align: center;\n\tmargin-bottom: 60rpx;\n\tpadding-top: 60rpx;\n\t\n\t.register-title {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tcolor: white;\n\t\tdisplay: block;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.register-subtitle {\n\t\tfont-size: 28rpx;\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t}\n}\n\n.register-form {\n\tbackground: white;\n\tborder-radius: 20rpx;\n\tpadding: 40rpx;\n\tmargin-bottom: 40rpx;\n\t\n\t.form-group {\n\t\tmargin-bottom: 30rpx;\n\t\t\n\t\t.form-label {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #333;\n\t\t\tdisplay: block;\n\t\t\tmargin-bottom: 15rpx;\n\t\t\tfont-weight: 500;\n\t\t}\n\t\t\n\t\t.form-input {\n\t\t\twidth: 100%;\n\t\t\theight: 80rpx;\n\t\t\tborder: 1rpx solid #ddd;\n\t\t\tborder-radius: 10rpx;\n\t\t\tpadding: 0 20rpx;\n\t\t\tfont-size: 28rpx;\n\t\t\tbox-sizing: border-box;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\tborder-color: #2867ce;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.register-btn {\n\t\twidth: 100%;\n\t\theight: 80rpx;\n\t\tbackground: #2867ce;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 10rpx;\n\t\tfont-size: 30rpx;\n\t\tmargin-top: 20rpx;\n\t}\n}\n\n.register-options {\n\ttext-align: center;\n\t\n\t.login-link {\n\t\tcolor: rgba(255, 255, 255, 0.9);\n\t\tfont-size: 28rpx;\n\t\ttext-decoration: underline;\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/clairyang/Downloads/cursor-test/项目报告/pages/register/register.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AAyCA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,cAAc;AAAA,QACb,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,QACV,iBAAiB;AAAA,MAClB;AAAA;EAED;AAAA,EAED,SAAS;AAAA;AAAA,IAER,MAAM,iBAAiB;AAEtB,UAAI,CAAC,KAAK,aAAa,UAAU;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,UAAI,CAAC,KAAK,aAAa,OAAO;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,UAAI,CAAC,KAAK,aAAa,UAAU;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,UAAI,KAAK,aAAa,aAAa,KAAK,aAAa,iBAAiB;AACrEA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,UAAI;AACHA,sBAAAA,MAAI,YAAY,EAAE,OAAO,SAAU,CAAA;AAGnC,cAAM,SAAS,MAAMC,cAAQ,GAAC,aAAa;AAAA,UAC1C,MAAM;AAAA,UACN,MAAM;AAAA,YACL,UAAU,KAAK,aAAa;AAAA,YAC5B,OAAO,KAAK,aAAa;AAAA,YACzB,UAAU,KAAK,aAAa;AAAA,UAC7B;AAAA,QACD,CAAC;AAED,YAAI,OAAO,OAAO,SAAS,GAAG;AAC7BD,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAC;AAGD,qBAAW,MAAM;AAChBA,0BAAG,MAAC,aAAY;AAAA,UAChB,GAAE,IAAI;AAAA,eACD;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,OAAO,OAAO,WAAW;AAAA,YAChC,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACC,SAAO,OAAO;AACfA,iFAAc,SAAS,KAAK;AAC5BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,UAAU;AACTA,sBAAG,MAAC,YAAW;AAAA,MAChB;AAAA,IACA;AAAA;AAAA,IAGD,YAAY;AACXA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;ACrIA,GAAG,WAAW,eAAe;"}